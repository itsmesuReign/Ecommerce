{% extends 'base.html' %}


{% block body %}

{% load static %}
<link rel="stylesheet" href="{% static 'style/cart.css' %}" />

<section class="Cart container">
    
    <section id="cart" class="mt-0 container">
        <h2 class="font-weight-bold pt-5">Shopping Cart</h2>
    </section>

    <section id="cart-container" class="container my-5">
        {% comment %} <table width="100%">
            <thead>
                <td>Remove</td>
                <td>Image</td>
                <td>Product</td>
                <td>Price</td>
                <td>Quantity</td>
                <td>QuantityTotal<td>
            </thead>

            <tbody>
                {% for item in items  %}
                <tr>
                    <td><a href="#"><i class="bi bi-trash"></i></a></td>
                    <td ><img class=" w-75" src="{{item.product.imageURL}}" alt=""></td>
                    <td><h5>{{item.product.name}}</h5></td>
                    <td><h5>${{item.product.price|floatformat:2}}</h5></td>
                    <td><input class="w-25 pl-1" value="{{item.quantity}}" type="number"></td>
                    <td><h5>${{item.get_total|floatformat:2}}</h5></td>
                </tr>

                {% endfor %}

            </tbody>
        </table> {% endcomment %}


        <style>
            .box-element{
                box-shadow: hsl(0, 0%, 80%) 0 0 16px;
                background-color: #fff;
                border-radius: 10px;
                padding: 10px;
            }
            .box-element .cart-row > div{
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .cart-row{
                display: flex;
                align-items: flex-stretch;
                padding-bottom: 10px;
                margin-bottom: 10px;
                border-bottom: 1px solid #ececec;
                border-radius: 10px;
            }
            .class-row .container{
                display: flex;
                align-items: center;
                justify-content: center;

            }
            .container .item{
                background-color: hsl(220, 19%, 50%);
                width: 30%;
                margin-left: 30px;
                margin-right: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                height: 20%;
                border-radius: 40px;
                color: rgb(0, 255, 234);
                font-family: Georgia, 'Times New Roman', Times, serif;
                border: 1px solid rgba(253, 98, 98, 0.158);
                box-shadow: hsl(0, 0%, 80%) 0 2px 16px;
                
            }

            .quantity{
                display: flex;
                justify-content: center;
                align-items: center;
                font-weight: 600;
                padding-right: 10px;

            }
            .ch-quantity{
                width: 20px;
                cursor: pointer;
                display: block;
                height: 20px;

            }

        </style>

        <div class="box-element">
            <div class="cart-row">
                <div style="flex:2"><strong>Image</strong></div>
                <div style="flex:2"> <strong>Product</strong> </div>
                <div style="flex:1"> <strong>Price</strong> </div>
                <div style="flex:1"><strong>Quantity</strong></div>
                <div style="flex:1"><strong>Total</strong></div>
            </div>

            {% for item in items  %}
            <div class="cart-row">
                <div style="flex:2"><img class=" w-75" src="{{item.product.imageURL}}" alt=""></div>
                <div style="flex:2">{{item.product.name}}</div>
                <div style="flex:1">${{item.product.price|floatformat:2}}</div>
                <div class="container" style="flex:1">
                    <div class="item">{{item.quantity}}</div>
                    <div class="quantity">
                        <img data-product={{item.product.id}} data-action="add" src="{% static 'img/up.png' %}" alt="" class="ch-quantity update-cart">
                    </div>
                    <div class="quantity">
                        <img data-product={{item.product.id}} data-action="remove" src="{% static 'img/down.png' %}" alt="" class="ch-quantity update-cart">
                    </div>
                </div>
                <div style="flex:1">${{item.get_total|floatformat:2}}</div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section id="cart-bottom" class="container">
        <div class="row">
            <div class="cupon col-lg-6 col-md-6 col-12 mb-4">
                <div class="  p-1 ">
                    <h5>COUPON</h5>
                    <p>Enter your coupon code.</p>
                    <input type="text" placeholder="Coupon Code">
                    <button>Apply Coupon</button>
                </div>
            </div>
            <div class="total col-lg-6 col-md-6 col-12 ">
                <div>
                    <h5>CART TOTAL</h5>
                    <div class="d-flex justify-content-between">
                        <h6>Total</h6>
                        <p>${{order.get_cart_subtotal | floatformat:2 }}</p>
                    </div>
                    <hr class="second-hr">

                    <button class="ml-auto" onclick="location.href='/checkout'">PROCEED TO CHECKOUT</button>
                </div>
            </div>
        </div>
    </section>

</section>

{% endblock body %}
